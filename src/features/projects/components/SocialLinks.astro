---
import { Icon } from 'astro-icon/components';
import EmailButton from './EmailButton.astro';
import { useTranslations, defaultLanguage, type LanguageCode } from '@/i18n/ui';

const lang = (Astro.currentLocale as LanguageCode | undefined) ?? defaultLanguage;
const t = useTranslations(lang, 'homePage'); 

// --- CONFIGURACIÓN CENTRAL DE TUS REDES ---
const socialLinks = [
  {
    href: 'https://www.linkedin.com/in/rodrigo-fuentes-35b10b246',
    label: 'LinkedIn',
    iconName: 'mdi:linkedin',
    ariaLabel: 'Visitar mi perfil de LinkedIn',
    isSpecialLink: true,
  },
  {
    href: 'https://github.com/eziron',
    label: 'GitHub',
    iconName: 'mdi:github-box',
    ariaLabel: 'Visitar mi perfil de GitHub',
    isSpecialLink: true,
  },
  {
    href: 'https://www.instagram.com/eziron1',
    label: 'Instagram',
    iconName: 'mdi:instagram',
    ariaLabel: 'Visitar mi perfil de Instagram',
    isSpecialLink: true,
  },
];

const emailLabel = 'Email'; 
const emailAriaLabel = 'Copiar mi correo electrónico'; 
const emailSuccessLabel = '¡Copy!'; 
const emailTitle = 'Copiar correo'; 

---

<div class="flex flex-wrap justify-center gap-6 md:gap-8">
    <EmailButton 
      email="rodrigo.fuentes357@gmail.com"
      label={emailLabel}
      ariaLabel={emailAriaLabel}
      title={emailTitle}
      successLabel={emailSuccessLabel}
      layout="vertical"
    /> 

    {
        socialLinks.map((link) => (
        <a
            href={link.href}
            class="group flex flex-col items-center gap-2 text-muted-foreground transition-colors duration-300 hover:text-primary focus-visible:text-primary focus-visible:outline-none"
            aria-label={link.ariaLabel}
            target={link.href.startsWith('http') ? '_blank' : undefined}
            rel={link.href.startsWith('http') ? 'noopener noreferrer' : undefined}
            data-astro-reload={link.isSpecialLink} 
        >
            <Icon
              name={link.iconName}
              class="size-16 transition-transform duration-300 group-hover:scale-110"
            />
            <span class="text-sm font-medium">{link.label}</span>
        </a>
        ))
    } 
</div>